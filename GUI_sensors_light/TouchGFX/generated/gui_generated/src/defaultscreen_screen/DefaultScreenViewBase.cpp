/*********************************************************************************/
/********** THIS FILE IS GENERATED BY TOUCHGFX DESIGNER, DO NOT MODIFY ***********/
/*********************************************************************************/
#include <gui_generated/defaultscreen_screen/DefaultScreenViewBase.hpp>
#include <touchgfx/canvas_widget_renderer/CanvasWidgetRenderer.hpp>
#include <touchgfx/Color.hpp>
#include <images/BitmapDatabase.hpp>
#include <texts/TextKeysAndLanguages.hpp>

DefaultScreenViewBase::DefaultScreenViewBase() :
    lightContainer1WidgetChangedCallback(this, &DefaultScreenViewBase::lightContainer1WidgetChangedCallbackHandler)
{
    touchgfx::CanvasWidgetRenderer::setupBuffer(canvasBuffer, CANVAS_BUFFER_SIZE);
    
    __background.setPosition(0, 0, 480, 272);
    __background.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    add(__background);

    image1.setXY(0, 0);
    image1.setBitmap(touchgfx::Bitmap(BITMAP_BG_ID));
    add(image1);

    scalableImage1.setBitmap(touchgfx::Bitmap(BITMAP_RECTANGLE_21_ID));
    scalableImage1.setPosition(20, 4, 441, 34);
    scalableImage1.setScalingAlgorithm(touchgfx::ScalableImage::NEAREST_NEIGHBOR);
    add(scalableImage1);

    Title_text.setPosition(0, 8, 480, 30);
    Title_text.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    Title_text.setLinespacing(0);
    Unicode::snprintf(Title_textBuffer, TITLE_TEXT_SIZE, "%s", touchgfx::TypedText(T___SINGLEUSE_CWEH).getText());
    Title_text.setWildcard(Title_textBuffer);
    Title_text.setTypedText(touchgfx::TypedText(T___SINGLEUSE_PJIO));
    add(Title_text);

    swipeContainer1.setXY(0, 41);
    swipeContainer1.setPageIndicatorBitmaps(touchgfx::Bitmap(BITMAP_ALTERNATE_THEME_IMAGES_WIDGETS_SWIPECONTAINER_MEDIUM_OFF_NORMAL_ID), touchgfx::Bitmap(BITMAP_ALTERNATE_THEME_IMAGES_WIDGETS_SWIPECONTAINER_MEDIUM_ON_ACTIVE_ID));
    swipeContainer1.setPageIndicatorXY(220, 200);
    swipeContainer1.setSwipeCutoff(50);
    swipeContainer1.setEndSwipeElasticWidth(50);

    swipeContainer1PageEnv.setWidth(480);
    swipeContainer1PageEnv.setHeight(225);
    envContainer1.setXY(28, 0);
    swipeContainer1PageEnv.add(envContainer1);

    swipeContainer1.add(swipeContainer1PageEnv);

    swipeContainer1PageLight.setWidth(480);
    swipeContainer1PageLight.setHeight(225);
    lightContainer1.setXY(0, 4);
    lightContainer1.setWidgetChangedCallback(lightContainer1WidgetChangedCallback);
    swipeContainer1PageLight.add(lightContainer1);

    swipeContainer1.add(swipeContainer1PageLight);

    swipeContainer1.setSelectedPage(0);
    add(swipeContainer1);
}

DefaultScreenViewBase::~DefaultScreenViewBase()
{
    touchgfx::CanvasWidgetRenderer::resetBuffer();
}

void DefaultScreenViewBase::setupScreen()
{
    envContainer1.initialize();
    lightContainer1.initialize();
}

void DefaultScreenViewBase::lightContainer1WidgetChangedCallbackHandler()
{
    //Interaction1
    //When lightContainer1 widgetChanged call virtual function
    //Call LightWidgetUpdate
    LightWidgetUpdate();
}

void DefaultScreenViewBase::handleTickEvent()
{
    //ScreenRoutineInteraction
    //When every N tick call virtual function
    //Call ScreenRoutine
    ScreenRoutine();
}
